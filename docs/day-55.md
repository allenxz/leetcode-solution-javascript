##### 279. 完全平方数

给定正整数 *n*，找到若干个完全平方数（比如 `1, 4, 9, 16, ...`）使得它们的和等于 *n*。你需要让组成和的完全平方数的个数最少。

**示例 1:**

```
输入: n = 12
输出: 3 
解释: 12 = 4 + 4 + 4.
```

**示例 2:**

```
输入: n = 13
输出: 2
解释: 13 = 4 + 9.
```



##### 解题思路

这道题有三个思路：

* 广度优先搜索
* 动态规划
* 数学公式

dp好像会超时，BFS的太麻烦了，我们用数学公式去解一下。思路来自评论区大佬。



数学里有一个牛逼的定理叫**四平方和定理**：

四平方和定理说明每个正整数均可表示为4个整数的平方和，4个数中可以有零。

也就是说这道题的答案只有1，2，3，4这4种情况。



此外四平方和定理还有一个推论就是：

满足四数平方和定理的数n（四个整数的情况），必定满足 **n=4^a(8b+7)**



所以思路就很清晰了，我们先讨论4的情况，如果n满足推论的公式，那么答案就是4；

如果不是，我们尝试将n分成两个数，若能成功分成两个正整数，则返回2；

如果它自己就是正整数，返回1；

以上三种情况都不符合，返回3。



##### 代码

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var numSquares = function(n) {
    while(n%4===0)
        n/=4;
    if(n%8===7)
        return 4;
    let a=0;
    while(a*a<=n){
        let b=Math.sqrt(n-a*a)|0;
        if(a*a+b*b===n){
            if(a!==0&&b!==0){
                return 2;
            }
            else
                return 1;
        }
        a++;
    }
    return 3;
};
```



##### 总结

这种解法就纯粹的数学题了，没什么特别的窍门。实际的意义可能比较小，有点偏门，当作是增长阅历吧





